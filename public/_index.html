<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Base -->
        <base href="/index.html"/>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Ethics-App">
        <meta name="author" content="Nicholas Schiestel">
        <meta name="author" content="Heinrich Löwen">
        <!-- <link rel="icon" href="images/favicon/favicon.ico"> -->

        <!-- Detect phone numbers -->
        <meta name="format-detection" content="telephone=no">
        <meta http-equiv="x-rim-auto-match" content="none">

        <title>Ethics-App</title>

        <!-- Bootstrap core CSS -->
        <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <!-- only for alpha version -->
        <link href="bower_components/tether/dist/css/tether.min.css" rel="stylesheet"/>
        <script src="bower_components/tether/dist/js/tether.min.js"></script>

        <!-- Font-Awesome -->
        <link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>

        <!-- Flag icons -->
        <link href="bower_components/flag-icon-css/css/flag-icon.min.css" rel="stylesheet">

        <!-- Custom styles -->
        <link href="css/styles.css" rel="stylesheet"/>

        <!-- JavaScript dependecies -->
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <script src="bower_components/moment/min/moment.min.js"></script>
        <script src="bower_components/angular/angular.min.js"></script>
        <script src="bower_components/angular-route/angular-route.min.js"></script>
        <script src="bower_components/angular-sanitize/angular-sanitize.min.js"></script>
        <script src="bower_components/angular-translate/angular-translate.min.js"></script>
        <script src="bower_components/angular-momentjs/angular-momentjs.js"></script>
        <script src="bower_components/bootbox/bootbox.js"></script>
        <script src="bower_components/ngBootbox/dist/ngBootbox.min.js"></script>

    </head>

    <body ng-app="ethics-app">

        <!-- Page -->
        <div class="page">

            <!-- Header -->
            <header>
                <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse" ng-controller="navController">
                    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <a class="navbar-brand" href="/">
                        <img src="/img/ifgi-logo.png" height="40"> {{config.appName}}
                    </a>
                    <div class="collapse navbar-collapse justify-content-end" id="navbarContent">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="" ng-click="redirect('/members')">
                                    {{ 'COMMITTEE' | translate }}
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="" ng-click="redirect('/help')">
                                    {{ 'HELP' | translate }}
                                </a>
                            </li>
                        </ul>
                        <ul class="navbar-nav nav-pills" ng-if="authenticated_user">
                            <li class="nav-item dropdown">
                                <a class="nav-link active dropdown-toggle" href="" id="document_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                                style="cursor: pointer;" ng-style="
                                document.status===0 && {'background-color':'#FFFFFF','border':'1px solid #CCCCCC'} ||
                                document.status===1 && {'background-color':'#FFFFFF','border':'1px solid #CCCCCC'} ||
                                document.status===2 && {'background-color':'#5cb85c','border':'1px solid #5cb85c'} ||
                                document.status===3 && {'background-color':'#0275d8','border':'1px solid #0275d8'} ||
                                document.status===4 && {'background-color':'#5bc0de','border':'1px solid #5bc0de'} ||
                                document.status===5 && {'background-color':'rgb(240, 173, 78)','border':'1px solid rgb(240, 173, 78)'} ||
                                document.status===6 && {'background-color':'#5cb85c','border':'1px solid #5cb85c'} ||
                                document.status===7 && {'background-color':'rgb(217, 83, 79)','border':'1px solid rgb(217, 83, 79)'}">
                                    <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;&nbsp;{{document.document_title}}
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="document_dropdown">
                                    <h6 class="dropdown-header">{{ 'DOCUMENT' | translate }}</h6>
                                    <a class="dropdown-item" href="" ng-click="showDocumentIntro(document.document_id)">{{ 'SHOW_DOCUMENT_INTRO' | translate }}</a>
                                    <a class="dropdown-item" href="" ng-click="showDocumentId(document.document_id)">{{ 'SHOW_DOCUMENT_ID' | translate }}</a>
                                    <a class="dropdown-item" href="" ng-click="editDocumentTitle(document.document_id)">{{ 'CHANGE_DOCUMENT_TITLE' | translate }}</a>
                                    <a class="dropdown-item" href="" ng-click="deleteDocument(document.document_id)" ng-if="document.status<=1">{{ 'DELETE_DOCUMENT' | translate }}</a>
                                </div>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link active user-pill dropdown-toggle" href="" id="user_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="cursor: pointer; background-color:#FFFFFF; border: 1px solid #CCCCCC; color: #292b2c;">
                                    <i class="fa fa-user-circle-o" aria-hidden="true"></i>&nbsp;&nbsp;<span ng-if="authenticated_user.title">{{authenticated_user.title}}&nbsp;</span>{{authenticated_user.first_name}} {{authenticated_user.last_name}}
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="user_dropdown">
                                    <h6 class="dropdown-header">{{ 'ACCOUNT' | translate }}</h6>
                                    <a class="dropdown-item" href="" ng-click="editAccount()">{{ 'SETTINGS' | translate }}</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="" ng-click="logout()">
                                        <i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;&nbsp;{{ 'LOGOUT' | translate }}
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
                        <!-- DEPRECATED:
                        <div class="" style="margin-left:5px;" ng-if="authenticated_user">
                            <div class="btn-group" role="group">
                                <button id="document_dropdown" type="button" class="btn dropdown-toggle" ng-class="{'btn-secondary': document.status==0 || document.status==1, 'btn-success': document.status==2 || document.status==6, 'btn-primary': document.status==3, 'btn-info': document.status==4, 'btn-warning': document.status=='5', 'btn-danger': document.status==7}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-file-text-o" aria-hidden="true"></i>&nbsp;&nbsp;{{document.document_title}}
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="document_dropdown">
                                    <h6 class="dropdown-header">{{ 'DOCUMENT' | translate }}</h6>
                                    <a class="dropdown-item" href="" ng-click="showDocumentIntro(document.document_id)">{{ 'SHOW_DOCUMENT_INTRO' | translate }}</a>
                                    <a class="dropdown-item" href="" ng-click="showDocumentId(document.document_id)">{{ 'SHOW_DOCUMENT_ID' | translate }}</a>
                                    <a class="dropdown-item" href="" ng-click="editDocumentTitle(document.document_id)">{{ 'CHANGE_DOCUMENT_TITLE' | translate }}</a>
                                    <a class="dropdown-item" href="" ng-click="deleteDocument(document.document_id)" ng-if="document.status<=1">{{ 'DELETE_DOCUMENT' | translate }}</a>
                                </div>
                            </div>
                            <div class="btn-group" role="group">
                                <button id="user_dropdown" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-user-circle-o" aria-hidden="true"></i>&nbsp;&nbsp;<span ng-if="authenticated_user.title">{{authenticated_user.title}}&nbsp;</span>{{authenticated_user.first_name}} {{authenticated_user.last_name}}
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="user_dropdown">
                                    <h6 class="dropdown-header">{{ 'ACCOUNT' | translate }}</h6>
                                    <a class="dropdown-item" href="" ng-click="editAccount()">{{ 'SETTINGS' | translate }}</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="" ng-click="logout()">
                                        <i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;&nbsp;{{ 'LOGOUT' | translate }}
                                    </a>
                                </div>
                            </div>
                        </div>
                    -->
                </nav>
            </header>

            <!-- Content -->
            <main class="content" ng-view></main>

            <!-- Footer -->
            <footer class="footer middle bg-inverse" ng-controller="footerController">
                <small>
                    &copy; {{config.appYear}}
                    <a href="https://www.uni-muenster.de/Geoinformatics/en/index.html" target="_blank">Institute for Geoinformatics</a>
                    &nbsp;&nbsp;|&nbsp;&nbsp;
                    <a href="/admin/" target="_self" class="link">
                        <i class="fa fa-users" aria-hidden="true"></i>
                    </a>
                    &nbsp;&nbsp;|&nbsp;&nbsp;
                    <a href="{{config.appGithub}}" target="_blank" class="link">
                        <i class="fa fa-github" aria-hidden="true"></i>
                    </a>
                </small>
            </footer>

        </div>

        <!-- MODULES -->
        <script src="js/modules/config.js"></script>
        <script src="js/modules/routes.js"></script>
        <script src="js/modules/languages.js"></script>
        <script src="js/modules/filters.js"></script>

        <!-- SERVICES -->
        <script src="js/services/authenticationService.js"></script>
        <script src="js/services/userService.js"></script>
        <script src="js/services/documentService.js"></script>
        <script src="js/services/revisionService.js"></script>
        <script src="js/services/descriptionService.js"></script>
        <script src="js/services/concernService.js"></script>
        <script src="js/services/reviewService.js"></script>
        <script src="js/services/fileService.js"></script>
        <script src="js/services/recoveryService.js"></script>
        <script src="js/services/membersService.js"></script>

        <!-- APPLICATION -->
        <script src="js/app.js"></script>

        <!-- CONTROLLERS -->
        <!-- Main -->
        <script src="js/controllers/navController.js"></script>
        <script src="js/controllers/footerController.js"></script>
        <script src="js/controllers/loginController.js"></script>
        <script src="js/controllers/recoveryController.js"></script>
        <script src="js/controllers/helpController.js"></script>

        <!-- Members -->
        <script src="js/controllers/member/listController.js"></script>

        <!-- Account -->
        <script src="js/controllers/account/editController.js"></script>

        <!-- Document -->
        <script src="js/controllers/document/createController.js"></script>
        <script src="js/controllers/document/deleteController.js"></script>
        <script src="js/controllers/document/detailsController.js"></script>
        <script src="js/controllers/document/editController.js"></script>
        <script src="js/controllers/document/editTitleController.js"></script>
        <script src="js/controllers/document/showIdController.js"></script>
        <script src="js/controllers/document/showIntroController.js"></script>
        <script src="js/controllers/document/showReviewController.js"></script>

        <!-- Status -->
        <script src="js/controllers/status/statusController.js"></script>

    </body>
</html>
